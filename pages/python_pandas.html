---
title:  Using Python and Pandas
layout: page
description:  Using Python and Pandas
post-image: "pandas.jpeg"
real_page: "display" 
excerpt: My hints on using Python and Pandas.
permalink: /python-pandas/
---


<h3>Python and Pandas</h3>
Because I'm always forgetting certain commands in Python and Pandas, I made myself a list of the commands I keep having to look up.<hr>

<button type="button" class="collapsible">Using Lambda functions</button>
<div class="coll-content">

<hr>

<p><b>How to use lambda functions with Pandas dataframes.</b></p>

<p>The apply function can be used to manipulate values in a dataframe or specified columns based on a custom function. We can write a simple function like:</p>

<pre>
def adjust_score(num):
    return num * 1.15
</pre>

<p>We can then apply it to the score column in our dataframe. For each value in <code>df['score']</code> it multiplies it by 1.15. It returns the new values but does not change the column.</p>


<pre>df['score'].apply(lambda x: adjust_score(x))</pre>

<p>This can then be used to create a new column in the dataframe.</p>

<pre>df['adjusted_score'] = df['score'].apply(lambda x: adjust_score(x))</pre>

<hr>

</div>

<button type="button" class="collapsible">Working with dates</button>
<div class="coll-content">

<hr>

<p><b>PeriodIndex</b></p>

<p>Pandas has a <code>PeriodIndex</code> feature which will let you get dates by quarters. Read more in <a href="https://stackoverflow.com/questions/37632766/python-pandas-get-fiscal-quarter-from-fiscal-year-and-month-for-uk">this Stack Overview post</a>.</p>

<pre>
all_events['quarter'] = pd.PeriodIndex(all_events['start_date'], freq='Q-DEC').strftime('%YQ%q')
</pre>

<hr>
</div>